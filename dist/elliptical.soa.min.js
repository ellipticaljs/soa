!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-utils"),require("elliptical-class")):"function"==typeof define&&define.amd?define(["elliptical-utils","elliptical-class"],t):(e.elliptical.Service=t(e.elliptical.utils,e.elliptical.Class),e.returnExports=e.elliptical.Service)}(this,function(e,t){e.toQueryable=function(e){if("object"!=typeof e)return e;var t={};for(var r in e)e.hasOwnProperty(r)&&0!==r.indexOf("$")&&(t[r]=e[r]);return t};var r,n=e.object;return r=t.extend({id:"id",_data:null,"@resource":null,$provider:{},$paginationProvider:null,get:function(e,t,r){"function"==typeof t&&(r=t,t={});var n=this,i=this.$provider,o=this.$paginationProvider,u=this["@resource"],s=null;i.get(e,u,t,function(e,i){e||(t.paginate&&o?(s=o.get(t,i),n._data=s.data):(s=i,n._data=i)),s=n.onGet(s),r&&r(e,s)})},onGet:function(e){return e},post:function(e,t){var r=this.$provider,n=this["@resource"];r.post(e,n,t)},put:function(e,t){var r=this.$provider,n=this["@resource"];r.put(e,n,t)},"delete":function(e,t){var r=this.$provider,n=this["@resource"];r["delete"](e,n,t)}},{_data:null,init:function(e){this._data=e,this.$query={}},get:function(e,t){var r=this._data,n=this.$query;"function"==typeof e?t=e:r=e,this.constructor.get(r,n,t)},save:function(e,t){var r=this._data,n=arguments.length;0===n?e=r:1===n&&"function"==typeof e&&(t=e,e=r);var i=this.constructor.id;void 0===e||void 0===e[i]?this.constructor.post(e,t):this.constructor.put(e,t)},put:function(e,t){var r=this._data;"function"==typeof e?t=e:r=e,this.constructor.put(r,t)},filter:function(t){if(t)if("object"==typeof t){var r=e.toQueryable(t);n.isEmpty(r)||(this.$query.filter=r)}else this.$query.filter=t;return this},orderBy:function(e){return e&&!n.isEmpty(e)&&(this.$query.orderBy=e),this},orderByDesc:function(e){return e&&!n.isEmpty(e)&&(this.$query.orderByDesc=e),this},top:function(e){return e&&!n.isEmpty(e)&&(this.$query.top=e),this},skip:function(e){return e&&!n.isEmpty(e)&&(this.$query.skip=e),this},paginate:function(e){try{e.page=parseInt(e.page)}catch(t){e.page=1}return this.$query.paginate=e,this},"delete":function(e,t){var r=this._data;"function"==typeof e?t=e:r=e,this.constructor["delete"](r,t)}})}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-class")):"function"==typeof define&&define.amd?define(["elliptical-class"],t):(e.elliptical.Provider=t(e.elliptical.Class),e.returnExports=e.elliptical.Provider)}(this,function(e){return e.extend({"@resource":null},{})}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-lodash").func):"function"==typeof define&&define.amd?define(["elliptical-lodash"],t):(e.elliptical.factory=t(e._.func),e.returnExports=e.elliptical.factory)}(this,function(e){void 0!==e.func&&(e=e.func);var t;return t={partial:function(){var t=[].slice.call(arguments);return e.partial.apply(this,t)},partialRight:function(){var t=[].slice.call(arguments);return e.partialRight.apply(this,t)},curry:function(){var t=[].slice.call(arguments);return e.curry.apply(this,t)},defer:function(){var t=[].slice.call(arguments);return e.defer.apply(this,t)},delay:function(){var t=[].slice.call(arguments);return e.delay.apply(this,t)},after:function(){var t=[].slice.call(arguments);return e.after.apply(this,t)},bind:function(){var t=[].slice.call(arguments);return e.bind.apply(this,t)},bindKey:function(){var t=[].slice.call(arguments);return e.bindKey.apply(this,t)},bindAll:function(){var t=[].slice.call(arguments);return e.bindAll.apply(this,t)},debounce:function(){var t=[].slice.call(arguments);return e.debounce.apply(this,t)},throttle:function(){var t=[].slice.call(arguments);return e.throttle.apply(this,t)},wrap:function(){var t=[].slice.call(arguments);return e.wrap.apply(this,t)},memoize:function(){var t=[].slice.call(arguments);return e.memoize.apply(this,t)}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical.noop=t(),e.returnExports=e.elliptical.noop)}(this,function(){return{noop:function(){},throwErr:function(e){if(e)throw e},doop:function(e,t,r){return"function"==typeof e?e.apply(r,t):void 0}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("./debounce"),require("./throttle")):"function"==typeof define&&define.amd?define(["./debounce","./throttle"],t):(e.elliptical.Interval=t(e.elliptical.debounce,e.elliptical.throttle),e.returnExports=e.elliptical.Interval)}(this,function(e,t){function r(e,t){e()}return function(n){this.delay=n.delay,this.timeOutId=null,"throttle"===n.thread?this.thread=t:"debounce"===n.thread?this.thread=e:this.thread=r,this.run=function(e){var t=this;this.timeOutId=setInterval(function(){t.thread(e,{delay:10})},t.delay)},this.terminate=function(){clearInterval(this.timeOutId)}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-lodash").func):"function"==typeof define&&define.amd?define(["elliptical-lodash"],t):(e.elliptical.debounce=t(e._.func),e.returnExports=e.elliptical.debounce)}(this,function(e){return void 0!==e.func&&(e=e.func),function(t,r,n){"undefined"==typeof r&&(r=1e3),"undefined"==typeof n&&(n={}),e.debounce(t,r,n)}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?"undefined"!=typeof window&&e($):e($)}(function(e){function t(e){return e}function r(e){return decodeURIComponent(e.replace(i," "))}function n(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return o.json?JSON.parse(e):e}catch(t){}}var i=/\+/g,o=e.cookie=function(i,u,s){if(o.raw=!0,void 0!==u){if(s=e.extend({},o.defaults,s),"number"==typeof s.expires){var c=s.expires,l=s.expires=new Date;l.setDate(l.getDate()+c)}return u=o.json?JSON.stringify(u):String(u),document.cookie=[o.raw?i:encodeURIComponent(i),"=",o.raw?u:encodeURIComponent(u),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var a=o.raw?t:r,d=document.cookie.split("; "),p=i?void 0:{},f=0,h=d.length;h>f;f++){var v=d[f].split("="),g=a(v.shift()),y=a(v.join("="));if(i&&i===g){p=n(y);break}i||(p[g]=n(y))}return p};return o.defaults={},e.removeCookie=function(t,r){return void 0!==e.cookie(t)?(e.cookie(t,"",e.extend({},r,{expires:-1})),!0):!1},e}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-class")):"function"==typeof define&&define.amd?define(["elliptical-class"],t):(e.elliptical.$Cookie=t(e.elliptical.Class),e.returnExports=e.elliptical.$Cookie)}(this,function(e){function t(){var e=[];if(document.cookie&&""!=document.cookie)for(var t=document.cookie.split(";"),r=0;r<t.length;r++){var n=t[r].split("=");n[0]=n[0].replace(/^ /,""),e.push({key:decodeURIComponent(n[0]),value:decodeURIComponent(n[1])})}return e}var r;return r=e.extend({get:function(e){var t=$.cookie(e);try{t=JSON.parse(t)}catch(r){t=null}return t},set:function(e,t,r){void 0===r&&(r={},r.path="/"),void 0===r.path&&(r.path="/"),void 0===r.expires&&(r.expires=365),"object"==typeof t&&(t=JSON.stringify(t)),$.cookie(e,t,r)},key:function(e){var r=t();try{return r[e].key}catch(n){return null}},"delete":function(e,t){void 0===t&&(t={path:"/"}),$.removeCookie(e,t)},count:function(){var e=document.cookie.split("; ");return e.length},clear:function(){throw"Method 'clear' not implemented by the cookie provider"}},{})}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-class")):"function"==typeof define&&define.amd?define(["elliptical-class"],t):(e.elliptical.$Local=t(e.elliptical.Class),e.returnExports=e.elliptical.$Local)}(this,function(e){var t;return t=e.extend({get:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(r){}return t},set:function(e,t,r){"object"==typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t)},key:function(e){return sessionStorage.key(e)},"delete":function(e){localStorage.removeItem(e)},count:function(){return localStorage.length},clear:function(){localStorage.clear()}},{})}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-class")):"function"==typeof define&&define.amd?define(["elliptical-class"],t):(e.elliptical.$Session=t(e.elliptical.Class),e.returnExports=e.elliptical.$Session)}(this,function(e){var t;return t=e.extend({get:function(e){var t=sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(r){}return t},set:function(e,t,r){"object"==typeof t&&(t=JSON.stringify(t)),sessionStorage.setItem(e,t)},key:function(e){return sessionStorage.key(e)},"delete":function(e){sessionStorage.removeItem(e)},count:function(){return sessionStorage.length},clear:function(){sessionStorage.clear()}},{})}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-class")):"function"==typeof define&&define.amd?define(["elliptical-class"],t):(e.elliptical.$Memory=t(e.elliptical.Class),e.returnExports=e.elliptical.$Memory)}(this,function(e){var t;return t=e.extend({_Map:{_map:null,get dictionary(){return this._map?this._map:new Map}},get:function(e){var t=this._Map.dictionary;return t.get(e)},set:function(e,t,r){var n=this._Map.dictionary;n.set(e,t)},key:function(e){var t=this._Map.dictionary,r=0,n=null;return t.forEach(function(t,i){e===r&&(n=i),r++}),n},"delete":function(e){var t=this._Map.dictionary;t["delete"](e)},count:function(){var e=this._Map.dictionary;return e.size},clear:function(){var e=this._Map.dictionary;e.clear()}},{})}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("./provider")):"function"==typeof define&&define.amd?define(["./provider"],t):(e.elliptical.$OData=t(e.elliptical.Provider),e.returnExports=e.elliptical.$OData)}(this,function(e){var t;return t=e.extend({filter:function(e,t){"object"==typeof t&&(t=this._getFilterString(t));var r="$filter="+encodeURIComponent(t);return e.indexOf("?")>-1?"&"+r:"?"+r},orderBy:function(e,t){var r="$orderby="+encodeURIComponent(t);return e.indexOf("?")>-1?"&"+r:"?"+r},orderByDesc:function(e,t,r){if(void 0!==t)return", "+encodeURIComponent(r+" desc");var n="$orderby="+encodeURIComponent(r+" desc");return e.indexOf("?")>-1?"&"+n:"?"+n},top:function(e,t){var r="$top="+t;return e.indexOf("?")>-1?"&"+r:"?"+r},skip:function(e,t){var r="$skip="+t;return e.indexOf("?")>-1?"&"+r:"?"+r},paginate:function(e,t){var r,n,i=t.page,o=t.pageSize;return"undefined"==typeof i||"undefined"==typeof o?e:(i--,r=i*o,n=r>0?"$skip="+r+"&$top="+o+"&$inlinecount=allpages":"$top="+o+"&$inlinecount=allpages",e.indexOf("?")>-1?"&"+n:"?"+n)},_getFilterString:function(e){var t="",r=0;for(var n in e)if(e.hasOwnProperty(n)){var i,o=decodeURIComponent(e[n]);0===n.indexOf("sw_")?(i=n.substring(3),t+=r>0?" and startswith("+i+",'"+o+"')":"startswith("+i+",'"+o+"')",r++):0===n.indexOf("swl_")?(i=n.substring(4),t+=r>0?" and startswith(tolower("+i+"),tolower('"+o+"'))":"startswith(tolower("+i+"),tolower('"+o+"'))",r++):0===n.indexOf("swu_")?(i=n.substring(4),t+=r>0?" and startswith(toupper("+i+"),toupper('"+o+"'))":"startswith(toupper("+i+"),toupper('"+o+"'))",r++):0===n.indexOf("c_")?(i=n.substring(2),t+=r>0?" and substringof("+i+",'"+o+"')":"substringof("+i+",'"+o+"')",r++):0===n.indexOf("cl_")?(i=n.substring(3),t+=r>0?" and substringof(tolower("+i+"),tolower('"+o+"'))":"substringof(tolower("+i+"),(tolower('"+o+"'))",r++):0===n.indexOf("cu_")?(i=n.substring(3),t+=r>0?" and substringof(toupper("+i+"),toupper('"+o+"'))":"substringof(toupper("+i+"),(toupper('"+o+"'))",r++):0===n.indexOf("ew_")?(i=n.substring(3),t+=r>0?" and endswith("+i+",'"+o+"')":"endswith("+i+",'"+o+"')",r++):0===n.indexOf("ewl_")?(i=n.substring(4),t+=r>0?" and endswith(tolower("+i+"),tolower('"+o+"'))":"endswith(tolower("+i+"),tolower('"+o+"'))",r++):0===n.indexOf("ewu_")?(i=n.substring(4),t+=r>0?" and endswith(toupper("+i+"),toupper('"+o+"'))":"endswith(toupper("+i+"),toupper('"+o+"'))",r++):0===n.indexOf("eql_")?(i=n.substring(4),t+=r>0?" and tolower("+n+") eq tolower('"+o+"')":"tolower("+n+") eq tolower('"+o+"')",r++):0===n.indexOf("equ_")?(i=n.substring(4),t+=r>0?" and toupper("+n+") eq toupper('"+o+"')":"toupper("+n+") eq toupper('"+o+"')",r++):0!==n.indexOf("$")&&(t+=r>0?" and "+n+" eq '"+o+"'":n+" eq '"+o+"'",r++)}return t}},{})}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("./provider")):"function"==typeof define&&define.amd?define(["./provider"],t):(e.elliptical.$Pagination=t(e.elliptical.Provider),e.returnExports=e.elliptical.$Pagination)}(this,function(e){var t;return t=e.extend({count:"count",data:"data",spread:10,get:function(e,t){function r(e,t){var r,a,d,p,f,h,v;r=e.baseUrl,a=e.rawUrl,d=e.page,t instanceof Array?(p=t.length,v=t):(p=t[s],v=t[c],void 0===p&&(p=t.count),void 0===v&&(v=t.data)),f=e.pageSize,h=l;try{d=parseInt(d)}catch(g){d=1}var y=parseInt(p/f),m=p%f;1>y?y=1:m>0&&y++;var x=u(a),$={page:d,pageCount:y,prevPage:r+"/1",firstPage:null,prevClass:"hide",nextPage:r+"/"+y,nextClass:"hide",lastPage:null,pages:[],beginRecord:null,endRecord:null,count:p};d>1&&($.prevClass="",$.prevPage=i(r,parseInt(d-1),x)),y>d&&($.nextClass="",$.nextPage=i(r,parseInt(d+1),x)),y>1&&($.pages=n(r,d,y,h,x)),$.firstPage=i(r,1,x),$.lastPage=i(r,y,x),d===y&&($.nextPage=$.lastPage);var b=o(p,d,f);return $.beginRecord=b.beginRecord,$.endRecord=b.endRecord,{pagination:$,data:v}}function n(e,t,r,n,o){var u=[];if(n>r&&(n=r),n>t){for(var s=0;n>s;s++){var c={page:s+1,pageUrl:i(e,parseInt(s+1),o)};s===parseInt(t-1)&&(c.activePage="active"),u.push(c)}return u}var l,a,d=parseInt(n/2);t+d>r?(a=r,l=a-n):(a=t+d,l=t-d);for(var s=l;a+1>s;s++){var c={page:s,pageUrl:i(e,s,o)};s===t&&(c.activePage="active"),u.push(c)}return u}function i(e,t,r){var n=e+"/"+t;return r&&void 0!==r&&(n+=r),n}function o(e,t,r){var n=(t-1)*r+1;0===e&&(n=0);var i=t*r;return i>e&&(i=e),{beginRecord:n,endRecord:i}}function u(e){if(!e)return null;var t=e.indexOf("?"),r=e.length;return t>-1?e.substring(t,r):null}var s=this.count,c=this.data,l=this.spread;return e.paginate&&(e=e.paginate),r(e,t)}},{})}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-class"),require("elliptical-location").Location):"function"==typeof define&&define.amd?define(["elliptical-class","elliptical-location"],t):(e.elliptical.$Sort=t(e.elliptical.Class,e.elliptical.Location),e.returnExports=e.elliptical.$Sort)}(this,function(e,t){void 0!==t.Location&&(t=t.Location);var r;return r=e.extend({sort:function(e){var r=e.sortOrder,n=e.field,i=t.href,o="asc"===r?"$orderBy":"$orderByDesc",u=this._getSortUrl(i,n,o);t.href=u},sorted:function(e){var r=t.href;if(r.indexOf("$orderBy")<=-1)return null;var n=t.url.queryString(r,"$orderBy");return n&&void 0!==n?{field:n,sort:"asc"}:{field:t.url.queryString(r,"$orderByDesc"),sort:"desc"}},refresh:function(e){"string"==typeof e&&t.redirect(e)},_getSortUrl:function(e,t,r){var n=e.indexOf("$orderBy"),i=r+"="+encodeURIComponent(t);return n>-1?e=e.substr(0,n)+i:e+=e.indexOf("?")>-1?"&"+i:"?"+i}},{})}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-class")):"function"==typeof define&&define.amd?define(["elliptical-class"],t):(e.elliptical.Notify=t(e.elliptical.Class),e.returnExports=e.elliptical.Notify)}(this,function(e){var t=e.extend({"@resource":"Notify",$provider:null,show:function(e,t){return this.$provider.show(e,t)},hide:function(){return this.$provider.hide()},visible:function(){return this.$provider.visible()},toggle:function(){return this.$provider.toggle()}},{init:function(e,t){var r=arguments.length;1===r?"string"==typeof e?this.constructor["@resource"]=e:this.constructor.$provider=e:2===r&&(this.constructor["@resource"]=e,this.constructor.$provider=t)},show:function(e,t){return this.constructor.show(e,t)},hide:function(){return this.constructor.hide()},visible:function(){return this.constructor.visible()},toggle:function(){return this.constructor.toggle()}});return t}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-class")):"function"==typeof define&&define.amd?define(["elliptical-class"],t):(e.elliptical.Dialog=t(e.elliptical.Class),e.returnExports=e.elliptical.Dialog)}(this,function(e){var t=e.extend({"@resource":"Dialog",$provider:null,show:function(e){return this.$provider.show(e)},hide:function(){return this.$provider.hide()},setContent:function(e){return this.$provider.setContent(e)}},{init:function(e,t){var r=arguments.length;1===r?"string"==typeof e?this.constructor["@resource"]=e:this.constructor.$provider=e:2===r&&(this.constructor["@resource"]=e,this.constructor.$provider=t)},show:function(e){return this.constructor.show(e)},hide:function(){return this.constructor.hide()},setContent:function(e){return this.constructor.setContent(e)}});return t}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-class")):"function"==typeof define&&define.amd?define(["elliptical-class"],t):(e.elliptical.Store=t(e.elliptical.Class),e.returnExports=e.elliptical.Store)}(this,function(e){var t;return t=e.extend({"@resource":"Store",$provider:null,get:function(e){return this.$provider.get(e)},set:function(e,t,r){return this.$provider.set(e,t,r)},key:function(e){return this.$provider.key(e)},"delete":function(e){return this.$provider["delete"](e)},count:function(){return this.$provider.count()},clear:function(){return this.$provider.clear()}},{init:function(e,t){var r=arguments.length;1===r?"string"==typeof e?this.constructor["@resource"]=e:this.constructor.$provider=e:2===r&&(this.constructor["@resource"]=e,this.constructor.$provider=t)},get:function(e){return this.constructor.get(e)},set:function(e,t,r){return this.constructor.set(e,t,r)},key:function(e){return this.constructor.key(e)},"delete":function(e){return this.constructor["delete"](e)},count:function(){return this.constructor.count()},clear:function(){return this.constructor.clear()}})}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("./service")):"function"==typeof define&&define.amd?define(["./service"],t):(e.elliptical.Validation=t(e.elliptical.Service),e.returnExports=e.elliptical.Validation)}(this,function(e){var t=e.extend({"@resource":"Validation",$provider:null,post:function(e,t,r){this.$provider.post(e,t,r)},onSuccess:function(e){return this.$provider.onSuccess(e)},onError:function(e,t){return this.$provider.onError(e,t)}},{init:function(e,t){var r=arguments.length;1===r?"string"==typeof e?this.constructor["@resource"]=e:this.constructor.$provider=e:2===r&&(this.constructor["@resource"]=e,this.constructor.$provider=t)},post:function(e,t,r){var n=this.$provider?this.$provider:this.constructor.$provider;this.schemas&&!this.$provider.schemas&&(n.schemas=this.schemas),n.post(e,t,r)},put:function(e,t,r){var n=this.$provider?this.$provider:this.constructor.$provider;this.schemas&&!n.schemas&&(n.schemas=this.schemas),n.put(e,t,r)},onSuccess:function(e){var t=this.$provider?this.$provider:this.constructor.$provider;return t.onSuccess(e)},onError:function(e,t){var r=this.$provider?this.$provider:this.constructor.$provider;return r.onError(e,t)}});return t}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-class")):"function"==typeof define&&define.amd?define(["elliptical-class"],t):(e.elliptical.Search=t(e.elliptical.Class),e.returnExports=e.elliptical.Search)}(this,function(e){var t;return t=e.extend({"@resource":"Search",$provider:null,find:function(e){return this.$provider.find(e)}},{init:function(e,t){var r=arguments.length;1===r?"string"==typeof e?this.constructor["@resource"]=e:this.constructor.$provider=e:2===r&&(this.constructor["@resource"]=e,this.constructor.$provider=t)},find:function(e){return this.constructor.find(e)}})}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-class")):"function"==typeof define&&define.amd?define(["elliptical-class"],t):(e.elliptical.Sort=t(e.elliptical.Class),e.returnExports=e.elliptical.Sort)}(this,function(e){var t;return t=e.extend({"@resource":"Sort",$provider:null,sort:function(e){return this.$provider.sort(e)},sorted:function(e){return this.$provider.sorted(e)},refresh:function(e){return this.$provider.refresh(e)}},{init:function(e,t){var r=arguments.length;1===r?"string"==typeof e?this.constructor["@resource"]=e:this.constructor.$provider=e:2===r&&(this.constructor["@resource"]=e,this.constructor.$provider=t)},sort:function(e){return this.constructor.sort(e)},sorted:function(e){return this.constructor.sorted(e)},refresh:function(e){return this.constructor.refresh(e)}})});