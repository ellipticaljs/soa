!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t($):"function"==typeof define&&define.amd?define(["jquery"],t):(e.elliptical.http=e.elliptical.http|{},e.elliptical.http.browser=t(e.$),e.returnExports=e.elliptical.http.browser)}(this,function(e){var t={send:function(t,n){var o={type:t.method||"GET",dataType:t.dataType||"json",url:t.protocol+"://"+t.host+":"+(t.port||80)+t.path};t.data&&(t.data=JSON.stringify(t.data),o.data=t.data,o.contentType="application/json"),t.authorization&&(o.beforeSend=function(e){e.setRequestHeader("Authorization",t.authorization)});e.ajax(o).done(function(e,t){try{"string"==typeof e&&(e=JSON.parse(e)),n(null,e)}catch(o){var i={statusCode:500,message:o};n(i,null)}}).fail(function(e,t,o){var i={};i.statusCode=e.status,i.message=o,n(i,null)})}};return t}),function(e,t){if("undefined"!=typeof module&&module.exports){var n=require("./node");"undefined"!=typeof window&&(n=require("./browser")),module.exports=t(n,require("elliptical-crypto"))}else if("function"==typeof define&&define.amd)define(["./browser","elliptical-crypto"],t);else{var o=e.elliptical.http.browser,i=e.elliptical.crypto,r=t(o,i);r.browser=o,e.elliptical.http=r,e.returnExports=e.elliptical.http}}(this,function(e,t){var n={send:function(t,n){e.send(t,function(e,t){n&&n(e,t)})},base64Encrypt:t.base64Encrypt,base64:t.base64,encodeSessionToken:function(e){return"Session "+e},encodeOAuthToken:function(e){return"OAuth "+e}};return n.crypto=t,n});